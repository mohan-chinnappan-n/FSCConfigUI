<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fetch Test in Aura</title>
    <link rel="stylesheet" href="css/app.css">
    <script src="js/bal.js"></script>
</head>
<body>

<h3>
Example to show how to wrap a API callout (in case of localhost serving situations)<br/> 
in javascript as a function to be called in the aura client-side controller methods

</h3>
<textarea rows='3' cols='40' id='bal'></textarea>   
<script>


// usage example
getBal().then (data => {
    document.getElementById('bal').value = JSON.stringify(data);
}).catch(e => console.log(e));


/* --------------------------- STEPS ----------

- add this lib.js into static resources (say bal)
- add this url to 
    - CSP 
    - remote site settings

- In the component have script require tag:

<ltng:require scripts="{!$Resource.bal}" afterScriptsLoaded="{!c.afterScriptsLoaded}" />

- In the component controller:

{{

 afterScriptsLoaded: function(cmp, event, helper) {
   
   window.getBal().then (data => {
   console.log(data);
   // do things with 'data' 
 }


}}

----------------------------------------------
*/
</script> 
</body>
</html>
